{
	"rabbit_version": "4.2",
	"users": [
		{
			"name": "admin",
			"password_hash": "${RABBITMQ_ADMIN_PASSWORD_HASH}",
			"hashing_algorithm": "rabbit_password_hashing_sha256",
			"tags": "administrator"
		},
		{
			"name": "metrics",
			"password_hash": "${RABBITMQ_METRICS_PASSWORD_HASH}",
			"hashing_algorithm": "rabbit_password_hashing_sha256",
			"tags": "monitoring"
		},
		{
			"name": "${RABBITMQ_DATA_WORKER_USER}",
			"password_hash": "${RABBITMQ_DATA_WORKER_PASSWORD_HASH}",
			"hashing_algorithm": "rabbit_password_hashing_sha256",
			"tags": "worker"
		},
		{
			"name": "${RABBITMQ_CLIENT_USER}",
			"password_hash": "${RABBITMQ_CLIENT_USER_PASSWORD_HASH}",
			"hashing_algorithm": "rabbit_password_hashing_sha256",
			"tags": "client"
		}
	],
	"vhosts": [
		{
			"name": "/"
		}
	],
	"permissions": [
		{
			"user": "admin",
			"vhost": "/",
			"configure": ".*",
			"write": ".*",
			"read": ".*"
		},
		{
			"user": "metrics",
			"vhost": "/",
			"configure": "",
			"write": "",
			"read": ""
		},
		{
			"user": "${RABBITMQ_DATA_WORKER_USER}",
			"vhost": "/",
			"configure": "^${RABBITMQ_DATA_WORKER_QUEUE_NAME}$",
			"write": "",
			"read": "^${RABBITMQ_DATA_WORKER_QUEUE_NAME}$"
		},
		{
			"user": "${RABBITMQ_CLIENT_USER}",
			"vhost": "/",
			"configure": "",
			"write": "amq\\.topic|^${RABBITMQ_DATA_TOPIC}$",
			"read": ""
		}
	],
	"parameters": [],
	"global_parameters": [],
	"policies": [],
	"exchanges": [
		{
			"name": "${RABBITMQ_DATA_TOPIC}",
			"vhost": "/",
			"type": "topic",
			"durable": true,
			"auto_delete": false,
			"internal": false,
			"arguments": {}
		}
  	],
	"queues": [
		{
			"name": "${RABBITMQ_DATA_WORKER_QUEUE_NAME}",
			"vhost": "/",
			"durable": true,
			"auto_delete": false,
			"arguments": {}
		}
	],
	"bindings": [
		{
			"source": "${RABBITMQ_DATA_TOPIC}",
			"vhost": "/",
			"destination": "${RABBITMQ_DATA_WORKER_QUEUE_NAME}",
			"destination_type": "queue",
			"routing_key": "#",
			"arguments": {}
		},
		{
			"source": "amq.topic",
			"vhost": "/",
			"destination": "${RABBITMQ_DATA_WORKER_QUEUE_NAME}",
			"destination_type": "queue",
			"routing_key": "${RABBITMQ_DATA_TOPIC}",
			"arguments": {}
		}
	]
}
